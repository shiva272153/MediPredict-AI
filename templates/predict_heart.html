{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-10">
    <div class="card shadow-md">
      <div class="card-body p-5">
        <h2 class="card-title mb-1">New Heart Disease Prediction</h2>
        <p class="text-muted mb-4">Enter patient data below to generate a risk assessment.</p>

        <form method="post">

          <!-- Patient Demographics -->
          <h5 class="section-title">Patient Demographics</h5>
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label">Age</label>
              <input type="number" step="1" min="1" class="form-control" name="age" placeholder="e.g. 45" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Biological Sex</label>
              <select class="form-select" name="sex" required>
                <option value="" disabled selected>Select sex...</option>
                <option value="1">Male</option>
                <option value="0">Female</option>
              </select>
            </div>
          </div>

          <!-- Clinical Symptoms -->
          <h5 class="section-title">Clinical Symptoms</h5>
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label">Chest Pain Type (CP)</label>
              <select class="form-select" name="cp" required>
                <option value="" disabled selected>Select pain type...</option>
                <option value="0">Typical Angina (0)</option>
                <option value="1">Atypical Angina (1)</option>
                <option value="2">Non-anginal Pain (2)</option>
                <option value="3">Asymptomatic (3)</option>
              </select>
            </div>
            <div class="col-md-6">
              <label class="form-label">Exercise Induced Angina?</label>
              <select class="form-select" name="exang" required>
                <option value="" disabled selected>Select...</option>
                <option value="1">Yes</option>
                <option value="0">No</option>
              </select>
            </div>
          </div>

          <!-- Vitals & Labs -->
          <h5 class="section-title">Vitals & Labs</h5>
          <div class="row g-3">
            <div class="col-md-4">
              <label class="form-label">Resting BP (mm Hg)</label>
              <input type="number" step="0.1" class="form-control" name="trestbps" placeholder="e.g. 120" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Cholesterol (mg/dl)</label>
              <input type="number" step="0.1" class="form-control" name="chol" placeholder="e.g. 200" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Fasting Blood Sugar > 120?</label>
              <select class="form-select" name="fbs" required>
                <option value="" disabled selected>Select...</option>
                <option value="1">Yes (True)</option>
                <option value="0">No (False)</option>
              </select>
            </div>
            <div class="col-md-6">
              <label class="form-label">Resting ECG</label>
              <select class="form-select" name="restecg" required>
                <option value="" disabled selected>Select result...</option>
                <option value="0">Normal</option>
                <option value="1">ST-T Wave Abnormality</option>
                <option value="2">Left Ventricular Hypertrophy</option>
              </select>
            </div>
            <div class="col-md-6">
              <label class="form-label">Max Heart Rate (Thalach)</label>
              <input type="number" step="1" class="form-control" name="thalach" placeholder="e.g. 150" required>
            </div>
          </div>

          <!-- Advanced Metrics -->
          <h5 class="section-title">Advanced Cardiac Metrics</h5>
          <div class="row g-3">
            <div class="col-md-4">
              <label class="form-label">Oldpeak (ST Depression)</label>
              <input type="number" step="0.1" class="form-control" name="oldpeak" placeholder="e.g. 1.0" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">ST Slope</label>
              <select class="form-select" name="slope" required>
                <option value="" disabled selected>Select slope...</option>
                <option value="0">Upsloping</option>
                <option value="1">Flat</option>
                <option value="2">Downsloping</option>
              </select>
            </div>
            <div class="col-md-4">
              <label class="form-label">Major Vessels (CA) (0-3)</label>
              <select class="form-select" name="ca" required>
                <option value="" disabled selected>Select count...</option>
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
              </select>
            </div>
            <div class="col-md-12">
              <label class="form-label">Thalassemia</label>
              <select class="form-select" name="thal" required>
                <option value="" disabled selected>Select type...</option>
                <option value="1">Normal (1)</option>
                <option value="2">Fixed Defect (2)</option>
                <option value="3">Reversable Defect (3)</option>
              </select>
              <div class="form-text">Note: Mappings may vary by dataset version. Ensure concordance.</div>
            </div>
          </div>

          <div class="mt-5 d-grid">
            <button class="btn btn-primary btn-lg">Generate Assessment &raquo;</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}